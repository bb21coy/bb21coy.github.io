import{u as C,r as i,j as e,O as v}from"./index-CmEGY9Xn.js";import{a as l}from"./index-NIGUFBhG.js";import{h as g}from"./handleServerError-BHmHb0ds.js";import{B as d}from"./Constants-B3OfrIZX.js";/* empty css                */const B=()=>{const s=C(),[c,x]=i.useState(!1),[p,b]=i.useState(!1),[j,f]=i.useState(2),[_,y]=i.useState(!1),[a,w]=i.useState({}),[t,N]=i.useState(window.location.hash);i.useEffect(()=>{async function o(){try{const n=await l.get(`${d}/auth`,{headers:{"x-route":"/check_session"},withCredentials:!0});if(n.data.valid){const h=await l.get(`${d}/account`,{headers:{"x-route":"/get_own_account"},withCredentials:!0});if(w(h.data),x(!!h.data),n.data){let r=4;n.data.account_type==="Boy"&&(r+=1),n.data.account_type==="Admin"&&(r+=1),(n.data.account_type!=="Boy"||n.data.account_type==="Boy"&&n.data.appointment!==null)&&(r+=3),n.data.account_type!=="Boy"&&(r+=1),f(r)}}else s("/log_in")}catch(n){console.error("Error checking session:",n),g(n.response.status)}}o(),N(window.location.hash)},[s]);const k=()=>{b(o=>!o)},u=()=>{y(o=>!o)},m=async()=>{try{(await l.post(`${d}/auth`,{},{headers:{"x-route":"/logout"},withCredentials:!0})).data&&s("/log_in")}catch(o){console.error("Error logging out:",o),g(o.response.status)}};return e.jsxs("header",{children:[e.jsxs("div",{children:[e.jsx("button",{className:"menu-button",onClick:k,"aria-label":"Menu",children:e.jsx("i",{className:"fa-solid fa-bars"})}),e.jsx("img",{src:"/images/coy logo.webp",alt:"BB Logo",width:"90px",height:"90px",onClick:()=>{s("/home")}})]}),e.jsxs("div",{"data-state":p,style:{height:40*j+"px"},"data-header-type":c?"home":"public",children:[!c&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"log-in--button",onClick:()=>{s("/parade_notice")},children:"Parade Notice"}),e.jsx("button",{className:"log-in--button",onClick:()=>{s("/log_in")},children:"Members Log In"})]}),c&&e.jsxs(e.Fragment,{children:[a.account_type==="Admin"&&e.jsx("button",{className:"admin--button",onClick:()=>{s("/admin")},children:"Admin Page"}),(a.account_type!=="Boy"||a.appointment!==null)&&e.jsx("button",{className:"user-management--button",onClick:()=>{s("/user_management")},children:"Users Management"}),(a.account_type==="Officer"||a.appointment?.toLowerCase().includes("tech"))&&e.jsx("button",{className:"award-management--button",onClick:()=>{s("/home_editor")},children:"Home Page Editor"}),e.jsx("button",{className:"attendance-management--button",onClick:()=>{s("/attendance_management")},children:"Parades & Attendance"}),a.account_type==="Boy"&&e.jsx("button",{className:"user-management--button",onClick:()=>{s("/user_awards")},children:"My Awards"}),a.account_type==="Boy"&&e.jsx("button",{className:"user-management--button",onClick:()=>{s("/user_inspections")},children:"My Inspection Results"}),(a.account_type!=="Boy"||a.appointment!==null)&&e.jsx("button",{className:"award-management--button",onClick:()=>{s("/awards")},children:"Award Management"}),(a.account_type!=="Boy"||a.appointment!==null)&&e.jsx("button",{className:"result-generation--button",onClick:()=>{s("/generate_result")},children:"Result Generation"}),a.account_type!=="Boy"&&e.jsx("button",{className:"uniform-inspection--button",onClick:()=>{s("/uniform_inspection_results")},children:"Uniform Inspection"}),e.jsx("button",{onClick:()=>{s("/reset_password")},children:"Reset Log In Information"}),e.jsx("button",{onClick:()=>{s("/help")},children:"Help"}),e.jsx("button",{className:"log-out--button",onClick:m,children:"Log Out"}),e.jsx("button",{"aria-label":"Open Sidebar",onClick:u,children:e.jsx("i",{className:"fa-solid fa-bars"})})]})]}),e.jsxs("div",{className:"sidebar","data-open":_,children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Menu"}),e.jsx("button",{"aria-label":"Close Sidebar",onClick:u,children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsx("div",{children:c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s("/home"),className:t==="#/home"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-house"}),"Dashboard"]}),a.account_type==="Admin"&&e.jsxs("button",{onClick:()=>s("/admin"),className:t==="#/admin"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-gear"}),"Admin Page"]}),(a.account_type!=="Boy"||a.appointment!==null)&&e.jsxs("button",{onClick:()=>s("/user_management"),className:t==="#/user_management"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-users"}),"Users Management"]}),(a.account_type==="Officer"||a.appointment?.toLowerCase().includes("tech"))&&e.jsxs("button",{onClick:()=>s("/home_editor"),className:t==="#/home_editor"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-edit"}),"Home Page Editor"]}),e.jsxs("button",{onClick:()=>s("/attendance_management"),className:t==="#/attendance_management"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-file"}),"Parades & Attendance"]}),a.account_type==="Boy"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s("/user_awards"),className:t==="#/user_awards"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-award"}),"My Awards"]}),e.jsxs("button",{onClick:()=>s("/user_inspections"),className:t==="#/user_inspections"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-shirt-long-sleeve"}),"My Inspection Results"]})]}),(a.account_type!=="Boy"||a.appointment!==null)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s("/awards"),className:t==="#/awards"?"active":"",children:[e.jsx("img",{src:"images/awards_tracker.webp",alt:"Awards Management Icon"}),"Awards Management"]}),e.jsxs("button",{onClick:()=>s("/generate_result"),className:t==="#/generate_result"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-file-invoice"}),"Result Generation"]})]}),a.account_type!=="Boy"&&e.jsxs("button",{onClick:()=>s("/uniform_inspection_results"),className:t==="#/uniform_inspection_results"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-shirt-long-sleeve"}),"Uniform Inspection"]}),e.jsxs("button",{onClick:()=>s("/reset_password"),className:t==="#/reset_password"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"}),"Reset Log In Information"]}),e.jsxs("button",{onClick:()=>s("/help"),className:t==="#/help"?"active":"",children:[e.jsx("i",{className:"fa-solid fa-question"}),"Help"]}),e.jsxs("button",{onClick:m,className:"log-out--button",children:[e.jsx("i",{className:"fa-solid fa-lock"}),"Log Out"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s("/parade_notice"),children:"Parade Notice"}),e.jsx("button",{onClick:()=>s("/log_in"),children:"Members Log In"})]})})]})]})},M=()=>e.jsxs("footer",{children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{children:"Social Media:"}),e.jsx("a",{href:"https://www.instagram.com/bb21coy/",target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:e.jsx("i",{className:"fa-brands fa-instagram"})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Affiliated With:"}),e.jsxs("div",{children:[e.jsx("a",{href:"https://www.geylangmethodistsec.moe.edu.sg/",target:"_blank",rel:"noreferrer","aria-label":"Geylang Methodist School (Secondary) Website",children:e.jsx("img",{src:"/images/gm.webp",width:"60px",height:"60px",alt:"Geylang Methodist School (Secondary)"})}),e.jsx("a",{href:"https://www.cmch.sg/",target:"_blank",rel:"noreferrer","aria-label":"Christalite Methodist Chapel Website",children:e.jsx("img",{src:"/images/church.png",width:"60px",height:"60px",alt:"Christalite Methodist Chapel"})})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Associated Websites:"}),e.jsxs("div",{children:[e.jsx("a",{href:"https://www.bb.org.sg/",target:"_blank",rel:"noreferrer",children:"BB HQ Website"}),e.jsx("a",{href:"https://members.bb.org.sg/cos/o.x?c=/ca3_ca3bbportal/user&func=login",target:"_blank",rel:"noreferrer",children:"BB Members Portal"})]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:["Icons by ",e.jsx("a",{href:"https://fontawesome.com/",title:"Font Awesome",target:"_blank",rel:"noreferrer",children:"Font Awesome"})]}),e.jsx("p",{children:"Website designed and developed by: Bryan Lee & Dylan Yeo"})]})]}),O=()=>e.jsxs("div",{className:"layout-div",children:[e.jsx("div",{className:"error-container"}),e.jsx(B,{}),e.jsx("main",{children:e.jsx(v,{})}),e.jsx(M,{})]});export{O as default};
