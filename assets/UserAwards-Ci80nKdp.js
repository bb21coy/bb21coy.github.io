import{r,j as s}from"./index-D47I_7n0.js";import{a as c}from"./index-NIGUFBhG.js";import{h as n}from"./handleServerError-BHmHb0ds.js";const w=()=>{const[o,l]=r.useState({}),[d,h]=r.useState({}),[m,u]=r.useState("");return r.useEffect(()=>{c.post("/application/0/check_session",{},{withCredentials:!0}).then(e=>{e.data.user?.account_type!="Boy"&&(window.location.href="/home"),u(e.data.user.account_name),c.get("/api/award_tracker/0/user_awards").then(a=>h(a.data.map(t=>`${t.award_id}-${t.mastery_id}`))).catch(a=>n(a.response?.status)),c.get("/api/award_tracker/0/all_awards").then(a=>l(a.data)).catch(a=>n(a.response?.status))}).catch(()=>{window.location.href="/"})},[]),s.jsxs("div",{className:"user-awards",children:[s.jsxs("h2",{children:[m,"'s Awards"]}),s.jsx("div",{className:"awards-list",children:Object.entries(o).map(([e,{award:a,masteries:t,image_url:x}])=>s.jsxs("div",{className:"award",children:[s.jsx("img",{src:x,alt:e}),s.jsxs("div",{children:[s.jsx("h3",{children:e}),a.has_mastery?t.map(i=>s.jsxs("div",{children:[s.jsx("p",{children:i.name}),s.jsx("i",{className:d.includes(`${a.id}-${i.id}`)?"fa-solid fa-check":"fa-solid fa-xmark"})]},`${e}-${i.id}`)):s.jsxs("div",{children:[s.jsx("p",{children:"â€“"}),s.jsx("i",{className:d.includes(`${a.id}-null`)?"fa-solid fa-check":"fa-solid fa-xmark"})]})]})]},e))})]})};export{w as UserAwards};
